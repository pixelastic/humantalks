{"version":3,"sources":["node_modules/auto-reload-brunch/vendor/auto-reload.js","app/javascripts/app.js"],"names":["WebSocket","window","MozWebSocket","br","brunch","ar","disabled","cacheBuster","url","date","Math","round","Date","now","toString","replace","indexOf","browser","navigator","userAgent","toLowerCase","forceRepaint","reloaders","page","location","reload","stylesheet","slice","call","document","querySelectorAll","filter","link","val","getAttribute","href","forEach","setTimeout","body","offsetHeight","port","host","server","hostname","connect","connection","onmessage","event","message","data","reloader","onerror","readyState","close","onclose","Search","init","moment","locale","search","instantsearch","appId","apiKey","indexName","urlSync","showMoreTemplates","inactive","active","websiteUrl","addSearchBoxWidget","addStatsWidget","addSpeakersWidget","addHitsWidget","addPaginationWidget","start","cloudinary","options","baseUrl","stringOptions","width","push","height","quality","crop","radius","format","colorize","grayscale","color","gravity","join","transformItem","videoUrl","video","slidesUrl","slides","meetupUrl","meetup","hasVideo","hasSlides","title","getHighlightedValue","titleLink","description","_snippetResult","value","thumbnail","thumbnailLink","authors","_","map","author","index","picture","twitter","plainName","name","highlightedName","_highlightResult","readableDate","capitalize","locationName","locationLogo","location_logo","readableLocation","logoPicture","displayedData","object","property","has","addWidget","widgets","searchBox","container","wrapInput","placeholder","stats","templates","nbHits","processingTimeMS","addTagsWidget","refinementList","attributeName","operator","limit","showMore","sortBy","cssClasses","root","item","label","count","checkbox","addTypeWidget","addRessourcesWidget","addYearWidget","rangeSlider","tooltips","parseInt","pips","step","hitTemplate","$","html","noResults","hits","hitsPerPage","empty","transformData","pagination","labels","previous","next","showFirstLast"],"mappings":"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","file":"public/app.js","sourcesContent":["/* jshint ignore:start */\n(function() {\n  var WebSocket = window.WebSocket || window.MozWebSocket;\n  var br = window.brunch = (window.brunch || {});\n  var ar = br['auto-reload'] = (br['auto-reload'] || {});\n  if (!WebSocket || ar.disabled) return;\n\n  var cacheBuster = function(url){\n    var date = Math.round(Date.now() / 1000).toString();\n    url = url.replace(/(\\&|\\\\?)cacheBuster=\\d*/, '');\n    return url + (url.indexOf('?') >= 0 ? '&' : '?') +'cacheBuster=' + date;\n  };\n\n  var browser = navigator.userAgent.toLowerCase();\n  var forceRepaint = ar.forceRepaint || browser.indexOf('chrome') > -1;\n\n  var reloaders = {\n    page: function(){\n      window.location.reload(true);\n    },\n\n    stylesheet: function(){\n      [].slice\n        .call(document.querySelectorAll('link[rel=stylesheet]'))\n        .filter(function(link) {\n          var val = link.getAttribute('data-autoreload');\n          return link.href && val != 'false';\n        })\n        .forEach(function(link) {\n          link.href = cacheBuster(link.href);\n        });\n\n      // Hack to force page repaint after 25ms.\n      if (forceRepaint) setTimeout(function() { document.body.offsetHeight; }, 25);\n    }\n  };\n  var port = ar.port || 9485;\n  var host = br.server || window.location.hostname || 'localhost';\n\n  var connect = function(){\n    var connection = new WebSocket('ws://' + host + ':' + port);\n    connection.onmessage = function(event){\n      if (ar.disabled) return;\n      var message = event.data;\n      var reloader = reloaders[message] || reloaders.page;\n      reloader();\n    };\n    connection.onerror = function(){\n      if (connection.readyState) connection.close();\n    };\n    connection.onclose = function(){\n      window.setTimeout(connect, 1000);\n    };\n  };\n  connect();\n})();\n/* jshint ignore:end */","let Search = {\n  init() {\n    moment.locale('fr');\n    this.search = instantsearch({\n      appId: 'O3F8QXYK6R',\n      apiKey: '36caf26b37562229d205f0eeceeac37f',\n      indexName: 'humantalks',\n      urlSync: true,\n    });\n\n    this.showMoreTemplates = {\n      inactive:'<a class=\"ais-show-more ais-show-more__inactive\">Voir plus</a>',\n      active:'<a class=\"ais-show-more ais-show-more__active\">Voir moins</a>'\n    }\n\n    this.websiteUrl = 'https://pixelastic.github.io/humantalks/';\n\n    this.addSearchBoxWidget();\n    this.addStatsWidget();\n    this.addSpeakersWidget();\n    // this.addTypeWidget();\n    // this.addRessourcesWidget();\n    // this.addYearWidget();\n    this.addHitsWidget();\n    this.addPaginationWidget();\n\n    this.search.start();\n  },\n  cloudinary(url, options) {\n    if (!url) {\n      return url;\n    }\n    let baseUrl = 'https://res.cloudinary.com/pixelastic-humantalks/image/fetch/';\n    let stringOptions = [];\n\n    // Handle common Cloudinary options\n    if (options.width) {\n      stringOptions.push(`w_${options.width}`);\n    }\n    if (options.height) {\n      stringOptions.push(`h_${options.height}`);\n    }\n    if (options.quality) {\n      stringOptions.push(`q_${options.quality}`);\n    }\n    if (options.crop) {\n      stringOptions.push(`c_${options.crop}`);\n    }\n    if (options.radius) {\n      stringOptions.push(`r_${options.radius}`);\n    }\n    if (options.format) {\n      stringOptions.push(`f_${options.format}`);\n    }\n    if (options.colorize) {\n      stringOptions.push(`e_colorize:${options.colorize}`);\n    }\n    if (options.grayscale) {\n      stringOptions.push(`e_grayscale`);\n    }\n    if (options.color) {\n      stringOptions.push(`co_rgb:${options.color}`);\n    }\n    if (options.gravity) {\n      stringOptions.push(`g_${options.gravity}`);\n    }\n\n    // Fix remote urls\n    url = url.replace(/^\\/\\//, 'http://');\n\n    return `${baseUrl}${stringOptions.join(',')}/${url}`;\n  },\n  transformItem(data) {\n// <!--Todo:-->\n// <!--Facetting sur les speakers dans la sidebar-->\n// <!--Facetting sur les lieux dans la sidebar-->\n// <!--Facetting sur la date dans la sidebar-->\n// <!--Facetting sur les lieux/speakers/évenement dans les hits-->\n// <!--Lien sur le logo de clear all-->\n// <!--RWD petit écran un résultat par ligne-->\n    \n    // Various urls\n    let videoUrl = data.video;\n    let slidesUrl = data.slides;\n    let meetupUrl = data.meetup;\n    let hasVideo = !!videoUrl;\n    let hasSlides = !!slidesUrl;\n\n    // Title\n    let title = Search.getHighlightedValue(data, 'title');\n    // Default link goes to video, fallback on slides or meetup page\n    let titleLink = videoUrl;\n    if (!titleLink) {\n      titleLink = slidesUrl;\n    }\n    if (!titleLink) {\n      titleLink = meetupUrl;\n    }\n\n    // Description\n    let description = data._snippetResult.description.value;\n    description = description.replace(' …', '…');\n\n\n    // Thumbnail\n    let thumbnail = data.thumbnail;\n    if (!thumbnail) {\n      thumbnail = `${Search.websiteUrl}/img/default.png`;\n    }\n    let thumbnailLink = meetupUrl;\n    if (hasSlides) {\n      thumbnailLink = slidesUrl;\n    } else if (hasVideo) {\n      thumbnailLink = videoUrl;\n    }\n\n    // Authors\n    let authors = _.map(data.authors, (author, index) => {\n      if (!author.picture) {\n        author.picture = `${Search.websiteUrl}/img/default-speaker.png`;\n      }\n      let picture = Search.cloudinary(author.picture, {\n        height: 50,\n        width: 50,\n        quality: 90,\n        grayscale: true,\n        crop: 'scale',\n        radius: 'max',\n        format: 'auto'\n      });\n\n      let link = '#';\n      if (author.twitter) {\n        link = `https://twitter.com/${author.twitter}`\n      }\n      return {\n        plainName: author.name,\n        highlightedName: data._highlightResult.authors[index].name.value,\n        link,\n        picture\n      }\n    });\n\n    // Date\n    let readableDate = _.capitalize(moment(data.date, 'YYYY-MM-DD').format('DD MMMM YYYY'));\n\n    // Location\n    let locationName = data.location;\n    let locationLogo = `${Search.websiteUrl}${data.location_logo}`;\n    let readableLocation = locationName;\n    if (locationLogo) {\n      let logoPicture = Search.cloudinary(locationLogo, {\n        height: 20,\n        quality: 90,\n        crop: 'scale',\n        format: 'auto'\n      });\n      readableLocation = `<img class=\"v-textbottom\" src=\"${logoPicture}\" alt=\"${locationName}\" />`\n    }\n    \n\n\n    let displayedData = {\n      title,\n      titleLink,\n      description,\n      thumbnail,\n      thumbnailLink,\n      hasVideo,\n      videoUrl,\n      hasSlides,\n      slidesUrl,\n      meetupUrl,\n      authors,\n      readableDate,\n      readableLocation\n    }\n\n    return displayedData;\n    // // All items are defered loading their images until in viewport, except\n    // // the 4 first\n    // let inViewport = false;\n    // if (Search.lazyloadCounter === undefined || Search.lazyloadCounter < 4) {\n    //   inViewport = true;\n    // }\n    // Search.lazyloadCounter++;\n\n\n    // // Ressources\n    // let video = _.get(data, 'ressources.video');\n    // let slides = _.get(data, 'ressources.slides');\n\n    // // Thumbnail\n    // let thumbnail = data.thumbnail;\n    // if (thumbnail) {\n    //   if (_.startsWith(thumbnail, './img')) {\n    //     thumbnail = `https://pixelastic.github.io/parisweb/${thumbnail}`;\n    //   }\n    //   thumbnail = Search.cloudinary(thumbnail, {\n    //     quality: 90,\n    //     format: 'auto'\n    //   });\n    // }\n    // let thumbnailLink = video || slides;\n\n\n    // // Tags\n    // let tags = _.map(data.tags, (tag, index) => {\n    //   return {\n    //     plainValue: tag,\n    //     highlightedValue: data._highlightResult.tags[index].value,\n    //     isRefined: Search.isRefined('tags', tag),\n    //   }\n    // });\n\n    // let displayData = {\n    //   uuid: data.objectID,\n    //   inViewport,\n    //   isConference,\n    //   isWorkshop,\n    //   title: Search.getHighlightedValue(data, 'title'),\n    //   url: data.url,\n    //   description,\n    //   year: data.year,\n    //   thumbnail,\n    //   thumbnailLink,\n    //   video,\n    //   slides,\n    //   tags,\n    //   authors,\n    //   objectID: data.objectID\n    // };\n\n    // return displayData;\n  },\n  getHighlightedValue(object, property) {\n    if (!_.has(object, `_highlightResult.${property}.value`)) {\n      return object[property];\n    }\n    return object._highlightResult[property].value;\n  },\n  addSearchBoxWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.searchBox({\n        container: '#js-searchbar',\n        wrapInput: false,\n        placeholder: 'Rechercher un thème, un speaker, un lieu'\n      })\n    );\n  },\n  addStatsWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.stats({\n        container: '#js-stats',\n        templates: {\n          body: (options) => {\n            return `${options.nbHits} résultats trouvés en ${options.processingTimeMS}ms`\n          }\n        }\n      })\n    );\n  },\n  addTagsWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.refinementList({\n        container: '#tags',\n        attributeName: 'tags',\n        operator: 'and',\n        limit: 10,\n        showMore: {\n          limit: 20,\n          templates: Search.showMoreTemplates\n        }\n      })\n    );\n  },\n  addSpeakersWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.refinementList({\n        container: '#js-speakers',\n        attributeName: 'authors.name',\n        operator: 'or',\n        sortBy: ['isRefined', 'count:desc', 'name:asc'],\n        cssClasses: {\n          root: '',\n          item: '',\n          label: 'db relative pointer pa1 hover-purple',\n          count: 'absolute right-0 top-0 mr1 br-pill bg-purple white pa1 f6',\n          active: 'b purple',\n          checkbox: 'dn'\n        },\n        limit: 10,\n        showMore: {\n          limit: 20,\n          templates: Search.showMoreTemplates\n        }\n      })\n    );\n  },\n  addTypeWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.refinementList({\n        container: '#type',\n        attributeName: 'type'\n      })\n    );\n  },\n  addRessourcesWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.refinementList({\n        container: '#ressources',\n        attributeName: 'availableRessources',\n        operator: 'and'\n      })\n    );\n  },\n  addYearWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.rangeSlider({\n        container: '#year',\n        attributeName: 'year',\n        tooltips: {\n          format: _.parseInt\n        },\n        pips: false,\n        step: 1\n      })\n    );\n  },\n  addHitsWidget() {\n    let hitTemplate = $('#js-template-hits').html();\n    let noResults = $('#js-template-noresults').html();\n    this.search.addWidget(\n      instantsearch.widgets.hits({\n        container: '#js-hits',\n        hitsPerPage: 20,\n        cssClasses: {\n          root: 'flex-row-wrap mb3',\n          item: 'flex-auto flex'\n        },\n        templates: {\n          item: hitTemplate,\n          empty: noResults\n        },\n        transformData: {\n          item: Search.transformItem\n        }\n      })\n    );\n\n    // // Allow user to further select/deselect facets directly in the hits\n    // let hitContainer = $('#hits');\n    // hitContainer.on('click', '.js-facet-toggle', (event) => {\n    //   var target = $(event.currentTarget);\n    //   var facetName = target.data('facet-name');\n    //   var facetValue = target.data('facet-value');\n    //   Search.search.helper.toggleRefinement(facetName, facetValue).search();\n    //   target.toggleClass('hit-facet__isRefined');\n    // });\n  },\n  addPaginationWidget() {\n    this.search.addWidget(\n      instantsearch.widgets.pagination({\n        container: '#js-pagination',\n        cssClasses: {\n          root: 'flex-row-nowrap justify-center',\n          item: 'flex-none flex mh1 bg-purple pa0 shadow-4',\n          link: 'white db pa2 link hover-bg-blue',\n          active: 'underline b'\n        },\n        labels: {\n          previous: '‹ Précédent',\n          next: 'Suivant ›'\n        },\n        showFirstLast: false\n      })\n    );\n  }\n};\n\nexport default Search;\n"]}